<%- include("partials/header.ejs") %>

<main>
    <header>
        <h1 class="display-1">TO DO</h1>
        <p class="h3">Reminds you of everything</p>
    </header>
    
    <section class="create">  
        <h2>Create task</h2>
        <form class=" " action="createTask" method="post">
            <div class="col-auto">
                <div class="input-group">
                    <input class="form-control" type="text" id="task" name="task" required>
                </div>
            </div>
            <div class="col-auto">
                <select class="form-select" name="taskType" id="task-type">
                    <option value="work">Work task</option>
                    <option value="daily">Daily task</option>
                </select>
            </div>
            <div class="col-auto">
                <button type="submit" class="btn btn-primary">Create task</button>
            </div>
        </form>
    </section>
         
    <section class="task-list">
        <h2>Tasks</h2>
        <form class="input-group" action="sortTasks" method="post">
            <select class="form-select" name="taskSort" id="task-sort">
                <% if(locals.sort && sort === "daily") { %>
                    <option value="all">All</option>
                    <option value="work">Work tasks</option>
                    <option selected value="daily">Daily tasks</option>
                <% } else if(locals.sort && sort === "work") { %>
                    <option value="all">All</option>
                    <option selected value="work">Work tasks</option>
                    <option value="daily">Daily tasks</option>
                <% } else if(locals.sort) { %>
                    <option selected value="all">All</option>
                    <option value="work">Work tasks</option>
                    <option value="daily">Daily tasks</option>
                <% } %>
            </select>
            <button type="submit" class="btn btn-primary">Sort</button>
        </form> 
        <%- include("partials/tasks.ejs") %>
    </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>